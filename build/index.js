import{useCssModule as e}from"vue";const s={cssModuleName:"",functionName:""},t={value:[]};function o(...e){return e.map((e=>{Array.isArray(e)?e.map((e=>{o(e)})):"object"==typeof e?Object.keys(e).map((s=>{e[s]&&t.value.push(s)})):"string"==typeof e?t.value.push(e):"number"==typeof e&&(0===e||isNaN(e)||t.value.push(e.toString()))})),t}const a=(...a)=>{const r=s.cssModuleName?e(s.cssModuleName):e();a.map((e=>e));const i=r;t.value=[],o(a);return t.value.map((e=>{if(void 0!==i[e])return i[e]})).filter((e=>e)).toString().replace(/\,/g," ").trim()};const r={value:[]};function i(...e){if(Array.isArray(e)){const[s,...t]=e;"function"==typeof s&&(r.value=[])}return e.map((e=>{Array.isArray(e)?e.map((e=>{i(e)})):"object"==typeof e?Object.keys(e).map((s=>{e[s]&&r.value.push(s)})):"string"==typeof e?r.value.push(e):"number"==typeof e&&(0===e||isNaN(e)||r.value.push(e.toString()))})),r.value}let n,u={},c="";const l=(e,s)=>{c=s},p=e=>!1;function m(e,s,t){let o=s;"string"==typeof o&&(o=[o]),n=i([p,o]);let a=((e,s)=>e.map((e=>s[e])).filter((e=>e)))(n,u);if(t?.class){let e=t.class;"string"==typeof e&&(e=e.split(" ")),a=[...a,...e]}e.classList.remove(...e.classList),e.classList.add(...a)}const v={beforeMount(e,s,t,o){u=t?.dirs[0]?.instance?.$options?.__cssModules[c],m(e,s.value,t.props)},updated(e,s,t){u=t?.dirs[0]?.instance?.$options?.__cssModules[c],m(e,s.value,t.props)}},f={install(e,t){const o=t?.functionName?t.functionName:"vclsx",r=t?.directiveName?t.directiveName:"v-class-module".toString(),i=t?.cssModuleName?t.cssModuleName:"$style",n=r.replace("v-","");var u;l(0,i),e.config.globalProperties[o]=a,e.provide("config",void((u=t)&&u.hasOwnProperty("cssModuleName")&&(s.cssModuleName=u.cssModuleName))),e.directive(n,v)}},d=a;export{f as createVClsx,d as vclsxComponent};
