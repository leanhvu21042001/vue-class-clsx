import{useCssModule as e}from"vue";import s from"just-typeof";import o,{mapObjectSkip as t}from"map-obj";let a=[],c="";const r=(e,s)=>(s&&a.push(e),t),i=(...e)=>{e.map((e=>{switch(s(e)){case"string":(e=>{c=e.toString(),a.push(c)})(e);break;case"array":i(...e);break;case"object":(e=>{o(e,r)})(e);break;case"number":break;case"function":a=[]}}))},l=(...e)=>(i(e),a),n={cssModuleName:"",functionName:""},u={value:[]},m=(...s)=>{const o=n.cssModuleName?e(n.cssModuleName):e();s.map((e=>e));const t=o;u.value=l((()=>{}),s);return u.value.map((e=>{if(void 0!==t[e])return t[e]})).filter((e=>e)).toString().replace(/\,/g," ").trim()};let p,d={},f="";const v=(e,s)=>{f=s};function N(e,s,o){let t=s;"string"==typeof t&&(t=[t]),p=l((()=>{}),t);let a=((e,s)=>e.map((e=>s[e])).filter((e=>e)))(p,d);if(o?.class){let e=o.class;"string"==typeof e&&(e=e.split(" ")),a=[...a,...e],console.log(a)}e.classList.remove(...e.classList),e.classList.add(...a)}const g={beforeMount(e,s,o,t){d=o?.dirs[0]?.instance?.$options?.__cssModules[f],N(e,s.value,o.props)},updated(e,s,o){d=o?.dirs[0]?.instance?.$options?.__cssModules[f],N(e,s.value,o.props)}},M={install(e,s){const o=s?.functionName?s.functionName:"vclsx",t=s?.directiveName?s.directiveName:"v-class-module".toString(),a=s?.cssModuleName?s.cssModuleName:"$style",c=t.replace("v-","");var r;v(0,a),e.config.globalProperties[o]=m,e.provide("config",void((r=s)&&r.hasOwnProperty("cssModuleName")&&(n.cssModuleName=r.cssModuleName))),e.directive(c,g)}},b=m;export{M as createVClsx,b as vclsxComponent};
